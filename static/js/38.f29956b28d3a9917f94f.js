webpackJsonp([38],{804:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.search=n.init=void 0;var a=r(23),i=t(a),o=r(22),s=t(o),p=r(88),c=r(368),d=t(c),l="389880a06e3f893ea46036f030c94700",u=function(){var e=(0,s.default)(i.default.mark(function e(n){var r,t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.get("https://restapi.amap.com/v3/geocode/regeo?"+(0,p.stringify)(n));case 2:return r=e.sent,t=r.data.regeocode,e.abrupt("return",t);case 5:case"end":return e.stop()}},e,void 0)}));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.default)(i.default.mark(function e(n,r){var t,a,o,s,p,c,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={key:l,location:n+","+r},e.next=3,u(t);case 3:return a=e.sent,o=a.formatted_address,s=a.addressComponent,p=s.district,c=s.province,d=s.city,e.abrupt("return",{address:o,marker:[n,r],area:p,city:d,province:c});case 10:case"end":return e.stop()}},e,void 0)}));return function(n,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.default)(i.default.mark(function e(n){var r,t,a,o,s,p,c,d,A,f,m=n.lng,h=n.lat;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,t=0,a={key:l,location:m+","+h},t+=m,r+=h,e.next=7,u(a);case 7:return o=e.sent,s=o.formatted_address,p=o.addressComponent,c=p.district,d=p.province,A=p.city,f={lng:t/1,lat:r/1},e.abrupt("return",{address:s,marker:[m,h],area:c,city:A,province:d,center:[f.lng,f.lat]});case 15:case"end":return e.stop()}},e,void 0)}));return function(n){return e.apply(this,arguments)}}();n.init=A,n.search=f},813:function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(23),i=t(a),o=r(22),s=t(o),p=r(63),c=r(804);n.default={name:"amap-page",props:{formerAddress:{type:String},formerLocation:{type:[Object,Boolean],default:!1},error:{type:String}},data:function(){var e=this;return{zoom:14,address:"",searchOption:{city:"武汉",citylimit:!0},center:[114.349691,30.537343],plugin:[{pName:"AMap.ToolBar"}],markers:[{position:[114.349691,30.537343],events:{dragend:function(){var n=(0,s.default)(i.default.mark(function n(r){var t=r.lnglat;t=void 0===t?{}:t;var a,o=t.lng,s=t.lat;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.markers[0].position=[o,s],n.next=3,(0,c.init)(o,s);case 3:a=n.sent,e.address=a.address,e.$emit("handleFetchAddress",a);case 6:case"end":return n.stop()}},n,e)}));return function(e){return n.apply(this,arguments)}}()},visible:!0,draggable:!1}]}},watch:{formerLocation:function(){var e=this.formerLocation,n=e.long,r=e.lat,t=this.markers[0].draggable;if(this.markers[0].draggable=!t,0!==r){var a=[n,r];this.markers[0].position=a,this.center=a,null!==this.formerAddress&&""!==this.formerAddress&&(this.address=this.formerAddress)}}},methods:{changePosition:function(){var e=(0,p.head)(this.markers).position;this.markers[0].position=[e[0]+.002,e[1]-.002]},chnageDraggle:function(){var e=(0,p.head)(this.markers).draggable;this.markers[0].draggable=!e},toggleVisible:function(){var e=(0,p.head)(this.markers).visible;this.markers[0].visible=!e},onSearchResult:function(e){var n=this;return(0,s.default)(i.default.mark(function r(){var t;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.search)((0,p.head)(e));case 2:t=r.sent,n.$emit("handleFetchAddress",t),n.address=t.address,n.center=t.center,e.length>0&&e.forEach(function(e){var r=e.lng,t=e.lat;return n.markers[0].position=[r,t]});case 7:case"end":return r.stop()}},r,n)}))()}}}},883:function(e,n,r){n=e.exports=r(710)(),n.push([e.i,'\n.amap-page-container {\n  min-height: 470px;\n  margin-bottom: 20px;\n}\n.el-vue-search-box-container {\n  position: relative;\n  width: 360px;\n  height: 45px;\n  background: #fff;\n  border-radius: 2px 3px 3px 2px;\n  z-index: 10;\n  margin-bottom: 10px;\n  border: 1px solid rgba(112, 128, 144, 0.15);\n}\n.amap-demo {\n  height: 400px !important;\n}\n.fa {\n  vertical-align: initial !important;\n}\n.amap-address {\n  margin: 5px 0px 20px;\n}\n.amap-address h2 {\n  font-size: 18px !important;\n  clear: both;\n}\n.label {\n  color: #48576a !important;\n  font-size: 14px !important;\n  padding: 11px 12px 11px 0;\n  line-height: 1;\n  margin-bottom: 0px !important;\n}\n.label.required::before {\n  content: "*";\n  color: #ff4949;\n  margin-right: 4px;\n}\n.error {\n  color: #ff4949;\n  font-size: 12px;\n  padding-bottom: 10px;\n}\n',"",{version:3,sources:["/Users/icwt-frontmen/projects/WS/backend/client/src/components/UIComponents/AMap/AMap.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,+BAA+B;EAC/B,YAAY;EACZ,oBAAoB;EACpB,4CAA4C;CAC7C;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,mCAAmC;CACpC;AACD;EACE,qBAAqB;CACtB;AACD;EACE,2BAA2B;EAC3B,YAAY;CACb;AACD;EACE,0BAA0B;EAC1B,2BAA2B;EAC3B,0BAA0B;EAC1B,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,aAAa;EACb,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,gBAAgB;EAChB,qBAAqB;CACtB",file:"AMap.vue",sourcesContent:['\n.amap-page-container {\n  min-height: 470px;\n  margin-bottom: 20px;\n}\n.el-vue-search-box-container {\n  position: relative;\n  width: 360px;\n  height: 45px;\n  background: #fff;\n  border-radius: 2px 3px 3px 2px;\n  z-index: 10;\n  margin-bottom: 10px;\n  border: 1px solid rgba(112, 128, 144, 0.15);\n}\n.amap-demo {\n  height: 400px !important;\n}\n.fa {\n  vertical-align: initial !important;\n}\n.amap-address {\n  margin: 5px 0px 20px;\n}\n.amap-address h2 {\n  font-size: 18px !important;\n  clear: both;\n}\n.label {\n  color: #48576a !important;\n  font-size: 14px !important;\n  padding: 11px 12px 11px 0;\n  line-height: 1;\n  margin-bottom: 0px !important;\n}\n.label.required::before {\n  content: "*";\n  color: #ff4949;\n  margin-right: 4px;\n}\n.error {\n  color: #ff4949;\n  font-size: 12px;\n  padding-bottom: 10px;\n}\n'],sourceRoot:""}])},913:function(e,n,r){var t=r(883);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r(711)("8692024e",t,!0)},924:function(e,n,r){r(913);var t=r(84)(r(813),r(974),null,null);e.exports=t.exports},974:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"amap-page-container"},[r("label",{staticClass:"label required"},[e._v("Address")]),e._v(" "),e.error?r("div",{staticClass:"error"},[e._v("\n    Address is required\n  ")]):e._e(),e._v(" "),r("el-amap-search-box",{staticClass:"search-box",attrs:{"search-option":e.searchOption,"on-search-result":e.onSearchResult}}),e._v(" "),r("el-amap",{staticClass:"amap-demo",attrs:{vid:"amapDemo",zoom:e.zoom,center:e.center}},e._l(e.markers,function(n,t){return r("el-amap-marker",{key:t,attrs:{position:n.position,events:n.events,visible:n.visible,draggable:n.draggable,plugin:e.plugin}})}),1),e._v(" "),e.address?r("div",{staticClass:"amap-address"},[r("h2",[r("i",{staticClass:"fa fa-location-arrow"}),e._v("\n        Address: "+e._s(e.address)+"\n    ")]),e._v(" "),r("div",{staticStyle:{clear:"both"}})]):e._e()],1)},staticRenderFns:[]}}});
//# sourceMappingURL=38.f29956b28d3a9917f94f.js.map