{"version":3,"sources":["webpack:///static/js/4.5e5c48ae3e95434a4ed5.js","webpack:///./src/pages/Locations/LocationForm.vue","webpack:///./src/pages/Locations/TableMock.js","webpack:///LocationForm.vue","webpack:///./src/pages/Locations/LocationForm.vue?7c60"],"names":["webpackJsonp","372","module","exports","__webpack_require__","Component","779","Object","defineProperty","value","tableColumns","title","field","isIcon","icon","tableActions","tag","class","label","dynamic","urlType","emit","to","types","name","fields","placeholder","onChange","type","showedKey","843","_extends2","_extends3","obj","__esModule","default","_vuex","_TableMock","data","id","subedKey","components","ImageUplodaer","e","then","bind","AMap","BussinesDays","destroyed","this","clearPlaceState","mounted","$route","params","fetchLocation","computed","mapState","form","state","locations","location","categories","mapGetters","foundedLocations","foundedCategories","getOptions","methods","submitForm","console","log","updateLocation","createLocation","mapActions","findLocation","findCategory","mapMutations","resetForm","setPoster","updateLocationForm","setSearchResult","setFoundedCategories","handleChoose","key","getName","handleSetLocationTime","payload","fetchAddress","_ref","_this","area","address","marker","map","_ref2","handleSetLocation","958","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","uploading-text","poster","on","uploadPoster","coupon_image","parentInputId","formerAddress","formerLocation","handleFetchAddress","_l","ref","subValue","changeValue","options","_e","description","rows","initialHours","hours","updateHours","logo","click","$event","preventDefault","_s","staticRenderFns"],"mappings":"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","file":"static/js/4.5e5c48ae3e95434a4ed5.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 372:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(84)(\n  /* script */\n  __webpack_require__(843),\n  /* template */\n  __webpack_require__(958),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 779:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tableColumns = [{\n  title: 'Location',\n  field: 'title',\n  isIcon: false,\n  icon: ''\n}, {\n  title: 'Created At',\n  field: 'createdAt',\n  isIcon: false,\n  icon: ''\n}, {\n  title: 'District',\n  field: 'district',\n  isIcon: false,\n  icon: ''\n}];\n\nvar tableActions = [{\n  tag: 'button',\n  class: 'btn btn-info',\n  label: 'Generate Qr',\n  dynamic: true,\n  urlType: '_id',\n  emit: 'generateQr'\n}, {\n  tag: 'link',\n  class: 'btn btn-info',\n  label: 'Edit',\n  dynamic: false,\n  to: '/locations/update',\n  urlType: '_id',\n  emit: ''\n}, {\n  tag: 'button',\n  class: 'btn btn-danger',\n  label: 'Remove',\n  dynamic: false,\n  urlType: '_id',\n  to: '',\n  emit: 'clickDelete'\n}];\n\nvar types = [{\n  name: 'anatomy',\n  value: 'anatomy'\n}, {\n  name: 'speciality',\n  value: 'speciality'\n}];\n\nvar fields = [{\n  name: 'title',\n  label: 'Location title',\n  placeholder: 'Location title',\n  onChange: 'handleSetLocation',\n  value: 'title',\n  type: 'fg-input'\n}, {\n  name: 'ch_title',\n  label: 'Location title on chinese',\n  placeholder: 'Location title on chinese',\n  onChange: 'handleSetLocation',\n  value: 'ch_title',\n  type: 'fg-input'\n}, {\n  name: 'phone',\n  label: 'Phone number',\n  placeholder: 'Phone number',\n  onChange: 'handleSetLocation',\n  value: 'phone',\n  type: 'fg-input'\n}, {\n  name: 'website',\n  label: 'Website',\n  placeholder: 'Website',\n  onChange: 'handleSetLocation',\n  value: 'website',\n  type: 'fg-input'\n}, {\n  name: 'dianping_id',\n  label: 'Dianping Id',\n  placeholder: 'Dianping',\n  onChange: 'handleSetLocation',\n  value: 'dianping_id',\n  type: 'fg-input'\n}, {\n  name: 'average',\n  label: 'Average',\n  placeholder: 'Average',\n  onChange: 'handleSetLocation',\n  value: 'average',\n  type: 'fg-input'\n}, {\n  name: 'category',\n  label: 'Category',\n  placeholder: 'Select categories',\n  onChange: 'handleSetPlace',\n  value: 'category',\n  type: 'fg-input',\n  showedKey: 'title'\n}];\n\nexports.tableColumns = tableColumns;\nexports.tableActions = tableActions;\nexports.types = types;\nexports.fields = fields;\n\n/***/ }),\n\n/***/ 843:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(9);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _vuex = __webpack_require__(85);\n\nvar _TableMock = __webpack_require__(779);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      id: '',\n      types: _TableMock.types,\n      fields: _TableMock.fields,\n      subedKey: 'location'\n    };\n  },\n  components: {\n    ImageUplodaer: function ImageUplodaer() {\n      return __webpack_require__.e/* import() */(32).then(__webpack_require__.bind(null, 772));\n    },\n    AMap: function AMap() {\n      return __webpack_require__.e/* import() */(38).then(__webpack_require__.bind(null, 926));\n    },\n    BussinesDays: function BussinesDays() {\n      return __webpack_require__.e/* import() */(45).then(__webpack_require__.bind(null, 919));\n    }\n  },\n  destroyed: function destroyed() {\n    this.clearPlaceState();\n  },\n  mounted: function mounted() {\n    this.id = this.$route.params.id;\n    if (this.id) {\n      this.fetchLocation({ id: this.id });\n    }\n  },\n\n  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n    form: function form(state) {\n      return state.locations.location;\n    },\n    categories: function categories(state) {\n      return state.locations.location;\n    }\n  }), (0, _vuex.mapGetters)({\n    foundedLocations: 'searchResult',\n    foundedCategories: 'foundedCategories'\n  }), {\n    getOptions: function getOptions() {\n      return this.subedKey === 'category' ? this.foundedCategories : this.foundedLocations;\n    }\n  }),\n  methods: (0, _extends3.default)({\n    submitForm: function submitForm() {\n      console.log(this.id);\n      var id = this.id ? this.id : '';\n      id ? this.updateLocation({ id: id }) : this.createLocation();\n    }\n  }, (0, _vuex.mapActions)({\n    fetchLocation: 'fetchLocation',\n    createLocation: 'createLocation',\n    updateLocation: 'updateLocation',\n    findLocation: 'findLocation',\n    findCategory: 'findCategory'\n  }), (0, _vuex.mapMutations)({\n    resetForm: 'resetLocation',\n    setPoster: 'setPoster',\n    updateLocationForm: 'updateLocationForm',\n    setSearchResult: 'setSearchResult',\n    setFoundedCategories: 'setFoundedCategories',\n    clearPlaceState: 'clearPlaceState'\n  }), {\n    handleChoose: function handleChoose(value, key) {\n      var getName = key === 'category' ? 'title' : 'location_name';\n      this.updateLocationForm({ value: value[getName], key: key });\n      this.updateLocationForm({ value: value, key: key + '_id' });\n      this.setSearchResult([]);\n      this.setFoundedCategories([]);\n    },\n    handleSetLocationTime: function handleSetLocationTime(key, value) {\n      var payload = {\n        key: key,\n        value: value\n      };\n      this.updateLocationForm(payload);\n    },\n    fetchAddress: function fetchAddress(_ref) {\n      var _this = this;\n\n      var area = _ref.area,\n          address = _ref.address,\n          marker = _ref.marker;\n\n      var mocksForMapFilter = [{\n        key: 'address',\n        value: address\n      }, {\n        key: 'district',\n        value: area\n      }, {\n        key: 'lat',\n        value: marker[1]\n      }, {\n        key: 'long',\n        value: marker[0]\n      }];\n      mocksForMapFilter.map(function (_ref2) {\n        var key = _ref2.key,\n            value = _ref2.value;\n        return _this.updateLocationForm({\n          key: key,\n          value: value\n        });\n      });\n    },\n    handleSetLocation: function handleSetLocation(value, key) {\n      this.subedKey = key;\n      var payload = {\n        key: key,\n        value: value\n      };\n      this.updateLocationForm(payload);\n      if (key === 'category') {\n        this.findCategory(value);\n      }\n    }\n  })\n};\n\n/***/ }),\n\n/***/ 958:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-8 col-md-offset-2\"\n  }, [_c('div', {\n    staticClass: \"card\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('form', [_c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add image\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.poster\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'poster'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add coupon image\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.coupon_image,\n      \"parentInputId\": \"coupon\"\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'coupon_image'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('AMap', {\n    attrs: {\n      \"formerAddress\": _vm.form.address,\n      \"formerLocation\": _vm.form.formerLocation\n    },\n    on: {\n      \"handleFetchAddress\": _vm.fetchAddress\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.fields), function(ref, key) {\n    var label = ref.label;\n    var value = ref.value;\n    var subValue = ref.subValue;\n    var name = ref.name;\n    var placeholder = ref.placeholder;\n    var showedKey = ref.showedKey;\n\n    return _c('fg-input', {\n      key: key,\n      attrs: {\n        \"type\": \"text\",\n        \"label\": label,\n        \"placeholder\": placeholder,\n        \"name\": name,\n        \"value\": _vm.form[value]\n      },\n      on: {\n        \"changeValue\": _vm.handleSetLocation\n      }\n    }, [(_vm.subedKey === name) ? _c('cascader', {\n      attrs: {\n        \"name\": name,\n        \"showedKey\": showedKey,\n        \"options\": _vm.getOptions\n      },\n      on: {\n        \"handleChoose\": _vm.handleChoose\n      }\n    }) : _vm._e()], 1)\n  }), _vm._v(\" \"), _c('fg-textarea', {\n    attrs: {\n      \"label\": \"Location description\",\n      \"name\": \"description\",\n      \"value\": _vm.form.description,\n      \"placeholder\": \"Enter description of Location\",\n      \"rows\": \"25\"\n    },\n    on: {\n      \"changeValue\": _vm.handleSetLocation\n    }\n  }), _vm._v(\" \"), _c('BussinesDays', {\n    attrs: {\n      \"initialHours\": _vm.form.hours\n    },\n    on: {\n      \"updateHours\": _vm.updateLocationForm\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add Logo\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.logo,\n      \"parentInputId\": \"logo\"\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'logo'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('button', {\n    staticClass: \"btn btn-info btn-fill btn-wd\",\n    attrs: {\n      \"type\": \"submit\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        return _vm.submitForm($event)\n      }\n    }\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.id ? 'Update' : 'Create') + \"\\n            \")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"btn btn-danger btn-fill btn-wd\",\n    attrs: {\n      \"to\": \"/locations/list\"\n    }\n  }, [_vm._v(\"\\n              Back\\n            \")])], 1)], 2)])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header\"\n  }, [_c('h4', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Adding Location\")])])\n}]}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.5e5c48ae3e95434a4ed5.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LocationForm.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-44c6b506!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LocationForm.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Locations/LocationForm.vue\n// module id = 372\n// module chunks = 4","const tableColumns = [\n  {\n    title: 'Location',\n    field: 'title',\n    isIcon: false,\n    icon: ''\n  },\n  {\n    title: 'Created At',\n    field: 'createdAt',\n    isIcon: false,\n    icon: ''\n  },\n  {\n    title: 'District',\n    field: 'district',\n    isIcon: false,\n    icon: ''\n  }\n]\n\nconst tableActions = [\n  {\n    tag: 'button',\n    class: 'btn btn-info',\n    label: 'Generate Qr',\n    dynamic: true,\n    urlType: '_id',\n    emit: 'generateQr'\n  },\n  {\n    tag: 'link',\n    class: 'btn btn-info',\n    label: 'Edit',\n    dynamic: false,\n    to: '/locations/update',\n    urlType: '_id',\n    emit: ''\n  },\n  {\n    tag: 'button',\n    class: 'btn btn-danger',\n    label: 'Remove',\n    dynamic: false,\n    urlType: '_id',\n    to: '',\n    emit: 'clickDelete'\n  }\n]\n\nconst types = [\n  {\n    name: 'anatomy',\n    value: 'anatomy'\n  },\n  {\n    name: 'speciality',\n    value: 'speciality'\n  }\n]\n\nconst fields = [\n  {\n    name: 'title',\n    label: 'Location title',\n    placeholder: 'Location title',\n    onChange: 'handleSetLocation',\n    value: 'title',\n    type: 'fg-input'\n  },\n  {\n    name: 'ch_title',\n    label: 'Location title on chinese',\n    placeholder: 'Location title on chinese',\n    onChange: 'handleSetLocation',\n    value: 'ch_title',\n    type: 'fg-input'\n  },\n  {\n    name: 'phone',\n    label: 'Phone number',\n    placeholder: 'Phone number',\n    onChange: 'handleSetLocation',\n    value: 'phone',\n    type: 'fg-input'\n  },\n  {\n    name: 'website',\n    label: 'Website',\n    placeholder: 'Website',\n    onChange: 'handleSetLocation',\n    value: 'website',\n    type: 'fg-input'\n  },\n  {\n    name: 'dianping_id',\n    label: 'Dianping Id',\n    placeholder: 'Dianping',\n    onChange: 'handleSetLocation',\n    value: 'dianping_id',\n    type: 'fg-input'\n  },\n  {\n    name: 'average',\n    label: 'Average',\n    placeholder: 'Average',\n    onChange: 'handleSetLocation',\n    value: 'average',\n    type: 'fg-input'\n  },\n  {\n    name: 'category',\n    label: 'Category',\n    placeholder: 'Select categories',\n    onChange: 'handleSetPlace',\n    value: 'category',\n    type: 'fg-input',\n    showedKey: 'title'\n  }\n]\n\nexport {\n  tableColumns,\n  tableActions,\n  types,\n  fields\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Locations/TableMock.js","<template>\n  <div class=\"row\">\n    <div class=\"col-md-8 col-md-offset-2\">\n      <div class=\"card\">\n        <div class=\"header\">\n          <h4 class=\"title\">Adding Location</h4>\n        </div>\n        <div class=\"content\">\n          <form>\n            <ImageUplodaer\n              title=\"Add image\"\n              uploading-text=\"Uploading...\"\n              @uploadPoster=\"value =>\n                updateLocationForm({ value, key: 'poster' })\"\n              :poster=\"form.poster\"\n            />\n            <hr>\n            <ImageUplodaer\n              title=\"Add coupon image\"\n              uploading-text=\"Uploading...\"\n              @uploadPoster=\"value =>\n                updateLocationForm({ value, key: 'coupon_image' })\"\n              :poster=\"form.coupon_image\"\n              parentInputId=\"coupon\"\n            />\n            <hr>\n            <AMap\n              @handleFetchAddress=\"fetchAddress\" \n              :formerAddress=\"form.address\" \n              :formerLocation=\"form.formerLocation\"\n            />\n            <fg-input \n              type=\"text\"\n              v-for=\"({\n                label,\n                value,\n                subValue,\n                name,\n                placeholder,\n                showedKey\n              }, key) in fields\"\n              :key=\"key\"\n              :label=\"label\"\n              :placeholder=\"placeholder\"\n              @changeValue=\"handleSetLocation\"\n              :name=\"name\"\n              :value=\"form[value]\"\n            >\n              <cascader\n                :name=\"name\"\n                :showedKey=\"showedKey\"\n                :options=\"getOptions\"\n                @handleChoose=\"handleChoose\"\n                v-if=\"subedKey === name\"\n              />\n            </fg-input>\n            <fg-textarea \n              label=\"Location description\"\n              @changeValue=\"handleSetLocation\"\n              name=\"description\"\n              :value=\"form.description\"\n              placeholder=\"Enter description of Location\"\n              rows=\"25\"\n            />\n            <BussinesDays\n              @updateHours=\"updateLocationForm\"\n              :initialHours=\"form.hours\"\n            />\n            <hr>\n            <ImageUplodaer\n              title=\"Add Logo\"\n              uploading-text=\"Uploading...\"\n              @uploadPoster=\"value =>\n                updateLocationForm({ value, key: 'logo' })\"\n              :poster=\"form.logo\"\n              parentInputId=\"logo\"\n            />\n            <div class=\"text-center\">\n              <button \n                type=\"submit\"\n                class=\"btn btn-info btn-fill btn-wd\" \n                @click.prevent=\"submitForm\"\n              >\n                {{id ? 'Update' : 'Create'}}\n              </button>\n              <router-link \n                to=\"/locations/list\" \n                class=\"btn btn-danger btn-fill btn-wd\"\n              >\n                Back\n              </router-link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState, mapMutations, mapGetters } from 'vuex'\nimport { types, fields } from './TableMock.js'\n\nexport default {\n  data: () => ({\n    id: '',\n    types,\n    fields,\n    subedKey: 'location'\n  }),\n  components: {\n    ImageUplodaer: () => import('ui/ImageUploaderPlugin/ImageUploader.vue'),\n    AMap: () => import('ui/AMap/AMap.vue'),\n    BussinesDays: () => import('components/BussinesHours/BussinesHours.vue')\n  },\n  destroyed() {\n    this.clearPlaceState()\n  },\n  mounted() {\n    this.id = this.$route.params.id\n    if (this.id) {\n      this.fetchLocation({ id: this.id })\n    }\n  },\n  computed: {\n    ...mapState({\n      form: state => state.locations.location,\n      categories: state => state.locations.location\n    }),\n    ...mapGetters({\n      foundedLocations: 'searchResult',\n      foundedCategories: 'foundedCategories'\n    }),\n    getOptions() {\n      return this.subedKey === 'category'\n        ? this.foundedCategories\n        : this.foundedLocations\n    }\n  },\n  methods: {\n    submitForm () {\n      console.log(this.id)\n      const id = this.id ? this.id : ''\n      id ? this.updateLocation({ id }) : this.createLocation()\n      // this.$router.push('/locations/list')\n    },\n    ...mapActions({\n      fetchLocation: 'fetchLocation',\n      createLocation: 'createLocation',\n      updateLocation: 'updateLocation',\n      findLocation: 'findLocation',\n      findCategory: 'findCategory'\n    }),\n    ...mapMutations({\n      resetForm: 'resetLocation',\n      setPoster: 'setPoster',\n      updateLocationForm: 'updateLocationForm',\n      setSearchResult: 'setSearchResult',\n      setFoundedCategories: 'setFoundedCategories',\n      clearPlaceState: 'clearPlaceState'\n    }),\n    handleChoose(value, key) {\n      const getName = key === 'category'\n        ? 'title'\n        : 'location_name'\n      this.updateLocationForm({ value: value[getName], key })\n      this.updateLocationForm({ value, key: `${key}_id` })\n      this.setSearchResult([])\n      this.setFoundedCategories([])\n    },\n    handleSetLocationTime(key, value) {\n      const payload = {\n        key,\n        value\n      }\n      this.updateLocationForm(payload)\n    },\n    fetchAddress({ area, address, marker }) {\n      const mocksForMapFilter = [\n        {\n          key: 'address',\n          value: address\n        },\n        {\n          key: 'district',\n          value: area\n        },\n        {\n          key: 'lat',\n          value: marker[1]\n        },\n        {\n          key: 'long',\n          value: marker[0]\n        }\n      ]\n      mocksForMapFilter.map(({ key, value }) =>\n        this.updateLocationForm({\n          key,\n          value\n        })\n      )\n    },\n    handleSetLocation(value, key) {\n      this.subedKey = key\n      const payload = {\n        key,\n        value\n      }\n      this.updateLocationForm(payload)\n      if (key === 'category') {\n        this.findCategory(value)\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// LocationForm.vue?40982667","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-8 col-md-offset-2\"\n  }, [_c('div', {\n    staticClass: \"card\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('form', [_c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add image\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.poster\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'poster'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add coupon image\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.coupon_image,\n      \"parentInputId\": \"coupon\"\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'coupon_image'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('AMap', {\n    attrs: {\n      \"formerAddress\": _vm.form.address,\n      \"formerLocation\": _vm.form.formerLocation\n    },\n    on: {\n      \"handleFetchAddress\": _vm.fetchAddress\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.fields), function(ref, key) {\n    var label = ref.label;\n    var value = ref.value;\n    var subValue = ref.subValue;\n    var name = ref.name;\n    var placeholder = ref.placeholder;\n    var showedKey = ref.showedKey;\n\n    return _c('fg-input', {\n      key: key,\n      attrs: {\n        \"type\": \"text\",\n        \"label\": label,\n        \"placeholder\": placeholder,\n        \"name\": name,\n        \"value\": _vm.form[value]\n      },\n      on: {\n        \"changeValue\": _vm.handleSetLocation\n      }\n    }, [(_vm.subedKey === name) ? _c('cascader', {\n      attrs: {\n        \"name\": name,\n        \"showedKey\": showedKey,\n        \"options\": _vm.getOptions\n      },\n      on: {\n        \"handleChoose\": _vm.handleChoose\n      }\n    }) : _vm._e()], 1)\n  }), _vm._v(\" \"), _c('fg-textarea', {\n    attrs: {\n      \"label\": \"Location description\",\n      \"name\": \"description\",\n      \"value\": _vm.form.description,\n      \"placeholder\": \"Enter description of Location\",\n      \"rows\": \"25\"\n    },\n    on: {\n      \"changeValue\": _vm.handleSetLocation\n    }\n  }), _vm._v(\" \"), _c('BussinesDays', {\n    attrs: {\n      \"initialHours\": _vm.form.hours\n    },\n    on: {\n      \"updateHours\": _vm.updateLocationForm\n    }\n  }), _vm._v(\" \"), _c('hr'), _vm._v(\" \"), _c('ImageUplodaer', {\n    attrs: {\n      \"title\": \"Add Logo\",\n      \"uploading-text\": \"Uploading...\",\n      \"poster\": _vm.form.logo,\n      \"parentInputId\": \"logo\"\n    },\n    on: {\n      \"uploadPoster\": function (value) { return _vm.updateLocationForm({\n          value: value,\n          key: 'logo'\n        }); }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('button', {\n    staticClass: \"btn btn-info btn-fill btn-wd\",\n    attrs: {\n      \"type\": \"submit\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        return _vm.submitForm($event)\n      }\n    }\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.id ? 'Update' : 'Create') + \"\\n            \")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"btn btn-danger btn-fill btn-wd\",\n    attrs: {\n      \"to\": \"/locations/list\"\n    }\n  }, [_vm._v(\"\\n              Back\\n            \")])], 1)], 2)])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header\"\n  }, [_c('h4', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Adding Location\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-44c6b506!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Locations/LocationForm.vue\n// module id = 958\n// module chunks = 4"],"sourceRoot":""}