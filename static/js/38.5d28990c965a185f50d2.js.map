{"version":3,"sources":["webpack:///static/js/38.5d28990c965a185f50d2.js","webpack:///./src/components/UIComponents/AMap/mapUtil.js","webpack:///AMap.vue","webpack:///./src/components/UIComponents/AMap/AMap.vue?b7c5","webpack:///./src/components/UIComponents/AMap/AMap.vue?f4cd","webpack:///./src/components/UIComponents/AMap/AMap.vue","webpack:///./src/components/UIComponents/AMap/AMap.vue?451c"],"names":["webpackJsonp","804","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","search","init","undefined","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_queryString","_axios","_axios2","key","request","_ref","mark","_callee","params","_ref2","regeocode","wrap","_context","prev","next","axios","get","amapURL","stringify","sent","data","abrupt","stop","_x","apply","this","arguments","_ref3","_callee2","lng","lat","_ref4","formatted_address","_ref4$addressComponen","district","province","city","_context2","location","addressComponent","address","marker","area","_x2","_x3","_ref5","_callee3","_ref6","latSum","lngSum","_ref7","_ref7$addressComponen","center","_context3","_x4","813","_ramda","_mapUtil","name","props","formerAddress","type","String","formerLocation","Boolean","error","_this","zoom","searchOption","citylimit","plugin","pName","markers","position","events","dragend","_ref2$lnglat","lnglat","$emit","visible","draggable","watch","_formerLocation","long","methods","changePosition","head","chnageDraggle","toggleVisible","visableVar","onSearchResult","pois","_this2","length","forEach","883","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","913","content","locals","924","Component","974","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_e","attrs","search-option","on-search-result","vid","_l","index","_s","staticStyle","clear","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YAsBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAnBvFG,OAAOC,eAAeP,EAAS,cAC7BQ,OAAO,IAETR,EAAQS,OAAST,EAAQU,SAAOC,EAEhC,IAAIC,GAAeX,EAAoB,IAEnCY,EAAgBX,EAAuBU,GAEvCE,EAAqBb,EAAoB,IAEzCc,EAAqBb,EAAuBY,GCnBhDE,EAAAf,EAAA,IACAgB,EAAAhB,EAAA,KDwBIiB,EAAUhB,EAAuBe,GCtB/BE,EAAM,mCAENC,aAAA,GAAAC,IAAA,EAAAN,EAAAV,SAAAQ,EAAAR,QAAAiB,KAAU,QAAAC,GAAOC,GAAP,GAAAC,GAAAC,CAAA,OAAAb,GAAAR,QAAAsB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aAAAF,GAAAE,KAAA,EACwBC,UAAMC,IAAOC,8CAAiB,EAAAjB,EAAAkB,WAAUV,GADhE,cAAAC,GAAAG,EAAAO,KACET,EADFD,EACNW,KAAQV,UADFE,EAAAS,OAAA,SAEPX,EAFO,wBAAAE,GAAAU,SAAAf,MAAAZ,MAAV,iBAAA4B,GAAA,MAAAlB,GAAAmB,MAAAC,KAAAC,eAKAhC,aAAA,GAAAiC,IAAA,EAAA5B,EAAAV,SAAAQ,EAAAR,QAAAiB,KAAO,QAAAsB,GAAOC,EAAKC,GAAZ,GAAAtB,GAAAuB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAAA,OAAAvC,GAAAR,QAAAsB,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,aACLN,IACJL,MACAmC,SAAaT,EAAb,IAAoBC,GAHXO,EAAAvB,KAAA,EAYDV,EAAQI,EAZP,cAAAuB,GAAAM,EAAAlB,KAMTa,EANSD,EAMTC,kBANSC,EAAAF,EAOTQ,iBACEL,EAROD,EAQPC,SACAC,EATOF,EASPE,SACAC,EAVOH,EAUPG,KAVOC,EAAAhB,OAAA,UAcTmB,QAASR,EACTS,QAASZ,EAAKC,GACdY,KAAMR,EACNE,OACAD,YAlBS,yBAAAE,GAAAf,SAAAM,MAAAjC,MAAP,iBAAAgD,EAAAC,GAAA,MAAAjB,GAAAH,MAAAC,KAAAC,eAsBAjC,aAAA,GAAAoD,IAAA,EAAA9C,EAAAV,SAAAQ,EAAAR,QAAAiB,KAAS,QAAAwC,GAAAC,GAAA,GAAAC,GAAAC,EAAAzC,EAAA0C,EAAAlB,EAAAmB,EAAAjB,EAAAC,EAAAC,EAAAgB,EAASvB,EAATkB,EAASlB,IAAKC,EAAdiB,EAAcjB,GAAd,OAAAjC,GAAAR,QAAAsB,KAAA,SAAA0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,aACTkC,GAAS,EACTC,EAAS,EACPzC,GACJL,MACAmC,SAAaT,EAAb,IAAoBC,GAEtBmB,GAAUpB,EACVmB,GAAUlB,EARGuB,EAAAvC,KAAA,EAiBHV,EAAQI,EAjBL,cAAA0C,GAAAG,EAAAlC,KAWXa,EAXWkB,EAWXlB,kBAXWmB,EAAAD,EAYXX,iBACEL,EAbSiB,EAaTjB,SACAC,EAdSgB,EAcThB,SACAC,EAfSe,EAeTf,KAGEgB,GACJvB,IAAKoB,EAAS,EACdnB,IAAKkB,EAAS,GApBHK,EAAAhC,OAAA,UAuBXmB,QAASR,EACTS,QAASZ,EAAKC,GACdY,KAAMR,EACNE,OACAD,WACAiB,QAASA,EAAOvB,IAAKuB,EAAOtB,MA5BjB,yBAAAuB,GAAA/B,SAAAwB,MAAAnD,MAAT,iBAAA2D,GAAA,MAAAT,GAAArB,MAAAC,KAAAC,cDiIN1C,GChGEU,ODiGFV,EChGES,UDoGI8D,IACA,SAAUxE,EAAQC,EAASC,GAEjC,YAmBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhBvFG,OAAOC,eAAeP,EAAS,cAC7BQ,OAAO,GAGT,IAAII,GAAeX,EAAoB,IAEnCY,EAAgBX,EAAuBU,GAEvCE,EAAqBb,EAAoB,IAEzCc,EAAqBb,EAAuBY,GAE5C0D,EAASvE,EAAoB,IE9IjCwE,EAAAxE,EAAA,IFoJAD,GAAQK,SEjJRqE,KAAA,YACAC,OACAC,eACAC,KAAAC,QAEAC,gBACAF,MAAAvE,OAAA0E,SACA3E,SAAA,GAEA4E,OACAJ,KAAAC,SAGA1C,KAdA,WAcA,GAAA8C,GAAAzC,IACA,QACA0C,KAAA,GACA3B,QAAA,GACA4B,cACAhC,KAAA,KACAiC,WAAA,GAEAjB,QAAA,sBACAkB,SACAC,MAAA,iBAEAC,UAEAC,UAAA,sBACAC,QACAC,QAAA,cAAAtE,IAAA,EAAAN,EAAAV,SAAAQ,EAAAR,QAAAiB,KAAA,QAAAC,GAAAE,GAAA,GAAAmE,GAAAnE,EAAAoE,MAAAD,OAAAjF,KAAAiF,MAAA,IAAAtC,GAAAT,EAAA+C,EAAA/C,IAAAC,EAAA8C,EAAA9C,GAAA,OAAAjC,GAAAR,QAAAsB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aACAoD,GAAAM,QAAA,GAAAC,UAAA5C,EAAAC,GADAlB,EAAAE,KAAA,GAEA,EAAA2C,EAAA/D,MAAAmC,EAAAC,EAFA,QAEAQ,EAFA1B,EAAAO,KAGA+C,EAAA1B,QAAAF,EAAAE,QACA0B,EAAAY,MAAA,qBAAAxC,EAJA,wBAAA1B,GAAAU,SAAAf,EAAA2D,KAAA,iBAAA3C,GAAA,MAAAlB,GAAAmB,MAAAC,KAAAC,gBAOAqD,SAAA,EACAC,WAAA,MAKAC,OACAlB,eADA,WACA,GAAAmB,GACAzD,KAAAsC,eAAAoB,EADAD,EACAC,KAAArD,EADAoD,EACApD,IACAkD,EAAAvD,KAAA+C,QAAA,GAAAQ,SAEA,IADAvD,KAAA+C,QAAA,GAAAQ,aACA,IAAAlD,EAAA,CACA,GAAA2C,IAAAU,EAAArD,EACAL,MAAA+C,QAAA,GAAAC,WACAhD,KAAA2B,OAAAqB,EACA,OAAAhD,KAAAmC,eAAA,KAAAnC,KAAAmC,gBACAnC,KAAAe,QAAAf,KAAAmC,kBAKAwB,SACAC,eADA,WAEA,GAAAZ,IAAA,EAAAjB,EAAA8B,MAAA7D,KAAA+C,SAAAC,QACAhD,MAAA+C,QAAA,GAAAC,YAAA,QAAAA,EAAA,UAEAc,cALA,WAMA,GAAAP,IAAA,EAAAxB,EAAA8B,MAAA7D,KAAA+C,SAAAQ,SACAvD,MAAA+C,QAAA,GAAAQ,cAEAQ,cATA,WAUA,GAAAC,IAAA,EAAAjC,EAAA8B,MAAA7D,KAAA+C,SAAAO,OACAtD,MAAA+C,QAAA,GAAAO,SAAAU,GAEAC,eAbA,SAaAC,GAAA,GAAAC,GAAAnE,IAAA,UAAA1B,EAAAV,SAAAQ,EAAAR,QAAAiB,KAAA,QAAAsB,KAAA,GAAAU,EAAA,OAAAzC,GAAAR,QAAAsB,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,aAAAuB,GAAAvB,KAAA,GACA,EAAA2C,EAAAhE,SAAA,EAAA+D,EAAA8B,MAAAK,GADA,QACArD,EADAD,EAAAlB,KAEAyE,EAAAd,MAAA,qBAAAxC,GACAsD,EAAApD,QAAAF,EAAAE,QACAoD,EAAAxC,OAAAd,EAAAc,OACAuC,EAAAE,OAAA,GACAF,EAAAG,QAAA,SAAAnE,GAAA,GAAAE,GAAAF,EAAAE,IAAAC,EAAAH,EAAAG,GAAA,OAAA8D,GAAApB,QAAA,GAAAC,UAAA5C,EAAAC,IANA,wBAAAO,GAAAf,SAAAM,EAAAgE,YFsNMG,IACA,SAAUhH,EAAQC,EAASC,GG1UjCD,EAAAD,EAAAC,QAA2BC,EAAQ,OAKnCD,EAAAgH,MAAcjH,EAAAkH,EAAS,80BAA80B,IAAUC,QAAA,EAAAC,SAAA,6FAAAC,SAAAC,SAAA,uZAA0hBC,KAAA,WAAAC,gBAAA,+0BAAu3BC,WAAA,OHmV1vEC,IACA,SAAU1H,EAAQC,EAASC,GItVjC,GAAAyH,GAAczH,EAAQ,IACtB,iBAAAyH,SAA4C3H,EAAAkH,EAASS,EAAA,MACrDA,EAAAC,SAAA5H,EAAAC,QAAA0H,EAAAC,OAEa1H,GAAQ,KAAmE,WAAAyH,GAAA,IJ+VlFE,IACA,SAAU7H,EAAQC,EAASC,GKrWjCA,EAAQ,IAER,IAAA4H,GAAgB5H,EAAQ,IAEtBA,EAAQ,KAERA,EAAQ,KAEV,KAEA,KAGAF,GAAAC,QAAA6H,EAAA7H,SL8WM8H,IACA,SAAU/H,EAAQC,GM9XxBD,EAAAC,SAAgB+H,OAAA,WAAmB,GAAAC,GAAAvF,KAAawF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,wBACGF,EAAA,SACHE,YAAA,mBACGL,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAN,EAAA,MAAAG,EAAA,OACHE,YAAA,UACGL,EAAAM,GAAA,mCAAAN,EAAAO,KAAAP,EAAAM,GAAA,KAAAH,EAAA,sBACHE,YAAA,aACAG,OACAC,gBAAAT,EAAA5C,aACAsD,mBAAAV,EAAAtB,kBAEGsB,EAAAM,GAAA,KAAAH,EAAA,WACHE,YAAA,YACAG,OACAG,IAAA,WACAxD,KAAA6C,EAAA7C,KACAf,OAAA4D,EAAA5D,SAEG4D,EAAAY,GAAAZ,EAAA,iBAAAa,EAAA1H,GACH,MAAAgH,GAAA,kBACAhH,MACAqH,OACA/C,SAAAoD,EAAApD,SACAC,OAAAmD,EAAAnD,OACAK,QAAA8C,EAAA9C,QACAC,UAAA6C,EAAA7C,UACAV,OAAA0C,EAAA1C,YAGG,GAAA0C,EAAAM,GAAA,KAAAN,EAAA,QAAAG,EAAA,OACHE,YAAA,iBACGF,EAAA,MAAAA,EAAA,KACHE,YAAA,yBACGL,EAAAM,GAAA,sBAAAN,EAAAc,GAAAd,EAAAxE,SAAA,YAAAwE,EAAAM,GAAA,KAAAH,EAAA,OACHY,aACAC,MAAA,YAEGhB,EAAAO,MAAA,IACFU","file":"static/js/38.5d28990c965a185f50d2.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 804:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.search = exports.init = undefined;\n\nvar _regenerator = __webpack_require__(23);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(22);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _queryString = __webpack_require__(86);\n\nvar _axios = __webpack_require__(368);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar amapURL = 'https://restapi.amap.com/v3/geocode';\nvar key = '389880a06e3f893ea46036f030c94700';\n\nvar request = function () {\n  var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(params) {\n    var _ref2, regeocode;\n\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _axios2.default.get(amapURL + '/regeo?' + (0, _queryString.stringify)(params));\n\n          case 2:\n            _ref2 = _context.sent;\n            regeocode = _ref2.data.regeocode;\n            return _context.abrupt('return', regeocode);\n\n          case 5:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined);\n  }));\n\n  return function request(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar init = function () {\n  var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(lng, lat) {\n    var params, _ref4, formatted_address, _ref4$addressComponen, district, province, city;\n\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            params = {\n              key: key,\n              location: lng + ',' + lat\n            };\n            _context2.next = 3;\n            return request(params);\n\n          case 3:\n            _ref4 = _context2.sent;\n            formatted_address = _ref4.formatted_address;\n            _ref4$addressComponen = _ref4.addressComponent;\n            district = _ref4$addressComponen.district;\n            province = _ref4$addressComponen.province;\n            city = _ref4$addressComponen.city;\n            return _context2.abrupt('return', {\n              address: formatted_address,\n              marker: [lng, lat],\n              area: district,\n              city: city,\n              province: province\n            });\n\n          case 10:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, undefined);\n  }));\n\n  return function init(_x2, _x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar search = function () {\n  var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(_ref6) {\n    var lng = _ref6.lng,\n        lat = _ref6.lat;\n\n    var latSum, lngSum, params, _ref7, formatted_address, _ref7$addressComponen, district, province, city, center;\n\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            latSum = 0;\n            lngSum = 0;\n            params = {\n              key: key,\n              location: lng + ',' + lat\n            };\n\n            lngSum += lng;\n            latSum += lat;\n\n            _context3.next = 7;\n            return request(params);\n\n          case 7:\n            _ref7 = _context3.sent;\n            formatted_address = _ref7.formatted_address;\n            _ref7$addressComponen = _ref7.addressComponent;\n            district = _ref7$addressComponen.district;\n            province = _ref7$addressComponen.province;\n            city = _ref7$addressComponen.city;\n            center = {\n              lng: lngSum / 1,\n              lat: latSum / 1\n            };\n            return _context3.abrupt('return', {\n              address: formatted_address,\n              marker: [lng, lat],\n              area: district,\n              city: city,\n              province: province,\n              center: [center.lng, center.lat]\n            });\n\n          case 15:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, undefined);\n  }));\n\n  return function search(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexports.init = init;\nexports.search = search;\n\n/***/ }),\n\n/***/ 813:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = __webpack_require__(23);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(22);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _ramda = __webpack_require__(87);\n\nvar _mapUtil = __webpack_require__(804);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'amap-page',\n  props: {\n    formerAddress: {\n      type: String\n    },\n    formerLocation: {\n      type: [Object, Boolean],\n      default: false\n    },\n    error: {\n      type: String\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      zoom: 14,\n      address: '',\n      searchOption: {\n        city: '武汉',\n        citylimit: true\n      },\n      center: [114.349691, 30.537343],\n      plugin: [{ pName: 'AMap.ToolBar' }],\n      markers: [{\n        position: [114.349691, 30.537343],\n        events: {\n          dragend: function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(_ref2) {\n              var _ref2$lnglat = _ref2.lnglat;\n              _ref2$lnglat = _ref2$lnglat === undefined ? {} : _ref2$lnglat;\n              var lng = _ref2$lnglat.lng,\n                  lat = _ref2$lnglat.lat;\n              var location;\n              return _regenerator2.default.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _this.markers[0].position = [lng, lat];\n                      _context.next = 3;\n                      return (0, _mapUtil.init)(lng, lat);\n\n                    case 3:\n                      location = _context.sent;\n\n                      _this.address = location.address;\n                      _this.$emit('handleFetchAddress', location);\n\n                    case 6:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }));\n\n            return function dragend(_x) {\n              return _ref.apply(this, arguments);\n            };\n          }()\n        },\n        visible: true,\n        draggable: false\n      }]\n    };\n  },\n\n  watch: {\n    formerLocation: function formerLocation() {\n      var _formerLocation = this.formerLocation,\n          long = _formerLocation.long,\n          lat = _formerLocation.lat;\n\n      var draggable = this.markers[0].draggable;\n      this.markers[0].draggable = !draggable;\n      if (lat !== 0) {\n        var position = [long, lat];\n        this.markers[0].position = position;\n        this.center = position;\n        if (this.formerAddress !== null && this.formerAddress !== '') {\n          this.address = this.formerAddress;\n        }\n      }\n    }\n  },\n  methods: {\n    changePosition: function changePosition() {\n      var position = (0, _ramda.head)(this.markers).position;\n      this.markers[0].position = [position[0] + 0.002, position[1] - 0.002];\n    },\n    chnageDraggle: function chnageDraggle() {\n      var draggable = (0, _ramda.head)(this.markers).draggable;\n      this.markers[0].draggable = !draggable;\n    },\n    toggleVisible: function toggleVisible() {\n      var visableVar = (0, _ramda.head)(this.markers).visible;\n      this.markers[0].visible = !visableVar;\n    },\n    onSearchResult: function onSearchResult(pois) {\n      var _this2 = this;\n\n      return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n        var location;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _mapUtil.search)((0, _ramda.head)(pois));\n\n              case 2:\n                location = _context2.sent;\n\n                _this2.$emit('handleFetchAddress', location);\n                _this2.address = location.address;\n                _this2.center = location.center;\n                if (pois.length > 0) {\n                  pois.forEach(function (_ref3) {\n                    var lng = _ref3.lng,\n                        lat = _ref3.lat;\n                    return _this2.markers[0].position = [lng, lat];\n                  });\n                }\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(710)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.amap-page-container {\\n  min-height: 470px;\\n  margin-bottom: 20px;\\n}\\n.el-vue-search-box-container {\\n  position: relative;\\n  width: 360px;\\n  height: 45px;\\n  background: #fff;\\n  border-radius: 2px 3px 3px 2px;\\n  z-index: 10;\\n  margin-bottom: 10px;\\n  border: 1px solid rgba(112, 128, 144, 0.15);\\n}\\n.amap-demo {\\n  height: 400px !important;\\n}\\n.fa {\\n  vertical-align: initial !important;\\n}\\n.amap-address {\\n  margin: 5px 0px 20px;\\n}\\n.amap-address h2 {\\n  font-size: 18px !important;\\n  clear: both;\\n}\\n.label {\\n  color: #48576a !important;\\n  font-size: 14px !important;\\n  padding: 11px 12px 11px 0;\\n  line-height: 1;\\n  margin-bottom: 0px !important;\\n}\\n.label.required::before {\\n  content: \\\"*\\\";\\n  color: #ff4949;\\n  margin-right: 4px;\\n}\\n.error {\\n  color: #ff4949;\\n  font-size: 12px;\\n  padding-bottom: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/icwt-frontmen/projects/WS/backend/client/src/components/UIComponents/AMap/AMap.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;EAClB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,+BAA+B;EAC/B,YAAY;EACZ,oBAAoB;EACpB,4CAA4C;CAC7C;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,mCAAmC;CACpC;AACD;EACE,qBAAqB;CACtB;AACD;EACE,2BAA2B;EAC3B,YAAY;CACb;AACD;EACE,0BAA0B;EAC1B,2BAA2B;EAC3B,0BAA0B;EAC1B,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,aAAa;EACb,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,gBAAgB;EAChB,qBAAqB;CACtB\",\"file\":\"AMap.vue\",\"sourcesContent\":[\"\\n.amap-page-container {\\n  min-height: 470px;\\n  margin-bottom: 20px;\\n}\\n.el-vue-search-box-container {\\n  position: relative;\\n  width: 360px;\\n  height: 45px;\\n  background: #fff;\\n  border-radius: 2px 3px 3px 2px;\\n  z-index: 10;\\n  margin-bottom: 10px;\\n  border: 1px solid rgba(112, 128, 144, 0.15);\\n}\\n.amap-demo {\\n  height: 400px !important;\\n}\\n.fa {\\n  vertical-align: initial !important;\\n}\\n.amap-address {\\n  margin: 5px 0px 20px;\\n}\\n.amap-address h2 {\\n  font-size: 18px !important;\\n  clear: both;\\n}\\n.label {\\n  color: #48576a !important;\\n  font-size: 14px !important;\\n  padding: 11px 12px 11px 0;\\n  line-height: 1;\\n  margin-bottom: 0px !important;\\n}\\n.label.required::before {\\n  content: \\\"*\\\";\\n  color: #ff4949;\\n  margin-right: 4px;\\n}\\n.error {\\n  color: #ff4949;\\n  font-size: 12px;\\n  padding-bottom: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 913:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(883);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(711)(\"8692024e\", content, true);\n\n/***/ }),\n\n/***/ 924:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(913)\n\nvar Component = __webpack_require__(82)(\n  /* script */\n  __webpack_require__(813),\n  /* template */\n  __webpack_require__(974),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 974:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"amap-page-container\"\n  }, [_c('label', {\n    staticClass: \"label required\"\n  }, [_vm._v(\"Address\")]), _vm._v(\" \"), (_vm.error) ? _c('div', {\n    staticClass: \"error\"\n  }, [_vm._v(\"\\n    Address is required\\n  \")]) : _vm._e(), _vm._v(\" \"), _c('el-amap-search-box', {\n    staticClass: \"search-box\",\n    attrs: {\n      \"search-option\": _vm.searchOption,\n      \"on-search-result\": _vm.onSearchResult\n    }\n  }), _vm._v(\" \"), _c('el-amap', {\n    staticClass: \"amap-demo\",\n    attrs: {\n      \"vid\": \"amapDemo\",\n      \"zoom\": _vm.zoom,\n      \"center\": _vm.center\n    }\n  }, _vm._l((_vm.markers), function(index, key) {\n    return _c('el-amap-marker', {\n      key: key,\n      attrs: {\n        \"position\": index.position,\n        \"events\": index.events,\n        \"visible\": index.visible,\n        \"draggable\": index.draggable,\n        \"plugin\": _vm.plugin\n      }\n    })\n  }), 1), _vm._v(\" \"), (_vm.address) ? _c('div', {\n    staticClass: \"amap-address\"\n  }, [_c('h2', [_c('i', {\n    staticClass: \"fa fa-location-arrow\"\n  }), _vm._v(\"\\n        Address: \" + _vm._s(_vm.address) + \"\\n    \")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"clear\": \"both\"\n    }\n  })]) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/38.5d28990c965a185f50d2.js","import { stringify } from 'query-string'\nimport axios from 'axios'\nconst amapURL = 'https://restapi.amap.com/v3/geocode'\nconst key = '389880a06e3f893ea46036f030c94700'\n\nconst request = async (params) => {\n  const { data: { regeocode } } = await axios.get(`${amapURL}/regeo?${stringify(params)}`)\n  return regeocode\n}\n\nconst init = async (lng, lat) => {\n  const params = {\n    key,\n    location: `${lng},${lat}`\n  }\n  const {\n    formatted_address,\n    addressComponent: {\n      district,\n      province,\n      city\n    }\n  } = await request(params)\n  return {\n    address: formatted_address,\n    marker: [lng, lat],\n    area: district,\n    city,\n    province\n  }\n}\n\nconst search = async ({ lng, lat }) => {\n  let latSum = 0\n  let lngSum = 0\n  const params = {\n    key,\n    location: `${lng},${lat}`\n  }\n  lngSum += lng\n  latSum += lat\n\n  const {\n    formatted_address,\n    addressComponent: {\n      district,\n      province,\n      city\n    }\n  } = await request(params)\n  const center = {\n    lng: lngSum / 1,\n    lat: latSum / 1\n  }\n  return {\n    address: formatted_address,\n    marker: [lng, lat],\n    area: district,\n    city,\n    province,\n    center: [center.lng, center.lat]\n  }\n}\n\nexport {\n  init,\n  search\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/UIComponents/AMap/mapUtil.js","<template>\n  <div class=\"amap-page-container\">\n    <label class=\"label required\">Address</label>\n    <div\n      class=\"error\"\n      v-if=\"error\"\n    >\n      Address is required\n    </div>\n    <el-amap-search-box\n      class=\"search-box\"\n      :search-option=\"searchOption\"\n      :on-search-result=\"onSearchResult\"\n    />\n    <el-amap\n      vid=\"amapDemo\"\n      :zoom=\"zoom\"\n      :center=\"center\"\n      class=\"amap-demo\"\n    >\n      <el-amap-marker\n        v-for=\"(index, key) in markers\"\n        :key=\"key\"\n        :position=\"index.position\"\n        :events=\"index.events\"\n        :visible=\"index.visible\"\n        :draggable=\"index.draggable\"\n        :plugin=\"plugin\"\n      />\n    </el-amap>\n    <div v-if=\"address\" class=\"amap-address\">\n      <h2>\n        <i class=\"fa fa-location-arrow\" />\n          Address: {{address}}\n      </h2>\n      <div style=\"clear: both;\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { head } from 'ramda'\nimport { init, search } from './mapUtil'\n\nexport default {\n  name: 'amap-page',\n  props: {\n    formerAddress: {\n      type: String\n    },\n    formerLocation: {\n      type: [Object, Boolean],\n      default: false\n    },\n    error: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      zoom: 14,\n      address: '',\n      searchOption: {\n        city: '武汉',\n        citylimit: true\n      },\n      center: [114.349691, 30.537343],\n      plugin: [\n        { pName: 'AMap.ToolBar' }\n      ],\n      markers: [\n        {\n          position: [114.349691, 30.537343],\n          events: {\n            dragend: async ({ lnglat: { lng, lat } = { } }) => {\n              this.markers[0].position = [lng, lat]\n              const location = await init(lng, lat)\n              this.address = location.address\n              this.$emit('handleFetchAddress', location)\n            }\n          },\n          visible: true,\n          draggable: false\n        }\n      ]\n    }\n  },\n  watch: {\n    formerLocation() {\n      const { long, lat } = this.formerLocation\n      let draggable = this.markers[0].draggable\n      this.markers[0].draggable = !draggable\n      if (lat !== 0) {\n        const position = [long, lat]\n        this.markers[0].position = position\n        this.center = position\n        if (this.formerAddress !== null && this.formerAddress !== '') {\n          this.address = this.formerAddress\n        }\n      }\n    }\n  },\n  methods: {\n    changePosition() {\n      let position = head(this.markers).position\n      this.markers[0].position = [position[0] + 0.002, position[1] - 0.002]\n    },\n    chnageDraggle() {\n      let draggable = head(this.markers).draggable\n      this.markers[0].draggable = !draggable\n    },\n    toggleVisible() {\n      let visableVar = head(this.markers).visible\n      this.markers[0].visible = !visableVar\n    },\n    async onSearchResult(pois) {\n      const location = await search(head(pois))\n      this.$emit('handleFetchAddress', location)\n      this.address = location.address\n      this.center = location.center\n      if (pois.length > 0) {\n        pois.forEach(({ lng, lat }) => this.markers[0].position = [lng, lat])\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.amap-page-container {\n  min-height: 470px;\n  margin-bottom: 20px;\n}\n\n.el-vue-search-box-container {\n  position: relative;\n  width: 360px;\n  height: 45px;\n  background: #fff;\n  border-radius: 2px 3px 3px 2px;\n  z-index: 10;\n  margin-bottom: 10px;\n  border: 1px solid rgba(112, 128, 144, 0.15);\n}\n\n.amap-demo {\n  height: 400px !important;\n}\n\n.fa {\n  vertical-align: initial !important;\n}\n\n.amap-address {\n  margin: 5px 0px 20px;\n}\n\n.amap-address h2 {\n  font-size: 18px !important;\n  clear: both;\n}\n\n.label {\n  color: #48576a !important;\n  font-size: 14px !important;\n  padding: 11px 12px 11px 0;\n  line-height: 1;\n  margin-bottom: 0px !important;\n}\n\n.label.required::before {\n  content: \"*\";\n  color: #ff4949;\n  margin-right: 4px;\n}\n\n.error {\n  color: #ff4949;\n  font-size: 12px;\n  padding-bottom: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// AMap.vue?f1e57ab8","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.amap-page-container {\\n  min-height: 470px;\\n  margin-bottom: 20px;\\n}\\n.el-vue-search-box-container {\\n  position: relative;\\n  width: 360px;\\n  height: 45px;\\n  background: #fff;\\n  border-radius: 2px 3px 3px 2px;\\n  z-index: 10;\\n  margin-bottom: 10px;\\n  border: 1px solid rgba(112, 128, 144, 0.15);\\n}\\n.amap-demo {\\n  height: 400px !important;\\n}\\n.fa {\\n  vertical-align: initial !important;\\n}\\n.amap-address {\\n  margin: 5px 0px 20px;\\n}\\n.amap-address h2 {\\n  font-size: 18px !important;\\n  clear: both;\\n}\\n.label {\\n  color: #48576a !important;\\n  font-size: 14px !important;\\n  padding: 11px 12px 11px 0;\\n  line-height: 1;\\n  margin-bottom: 0px !important;\\n}\\n.label.required::before {\\n  content: \\\"*\\\";\\n  color: #ff4949;\\n  margin-right: 4px;\\n}\\n.error {\\n  color: #ff4949;\\n  font-size: 12px;\\n  padding-bottom: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/icwt-frontmen/projects/WS/backend/client/src/components/UIComponents/AMap/AMap.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,kBAAkB;EAClB,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,+BAA+B;EAC/B,YAAY;EACZ,oBAAoB;EACpB,4CAA4C;CAC7C;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,mCAAmC;CACpC;AACD;EACE,qBAAqB;CACtB;AACD;EACE,2BAA2B;EAC3B,YAAY;CACb;AACD;EACE,0BAA0B;EAC1B,2BAA2B;EAC3B,0BAA0B;EAC1B,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,aAAa;EACb,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,gBAAgB;EAChB,qBAAqB;CACtB\",\"file\":\"AMap.vue\",\"sourcesContent\":[\"\\n.amap-page-container {\\n  min-height: 470px;\\n  margin-bottom: 20px;\\n}\\n.el-vue-search-box-container {\\n  position: relative;\\n  width: 360px;\\n  height: 45px;\\n  background: #fff;\\n  border-radius: 2px 3px 3px 2px;\\n  z-index: 10;\\n  margin-bottom: 10px;\\n  border: 1px solid rgba(112, 128, 144, 0.15);\\n}\\n.amap-demo {\\n  height: 400px !important;\\n}\\n.fa {\\n  vertical-align: initial !important;\\n}\\n.amap-address {\\n  margin: 5px 0px 20px;\\n}\\n.amap-address h2 {\\n  font-size: 18px !important;\\n  clear: both;\\n}\\n.label {\\n  color: #48576a !important;\\n  font-size: 14px !important;\\n  padding: 11px 12px 11px 0;\\n  line-height: 1;\\n  margin-bottom: 0px !important;\\n}\\n.label.required::before {\\n  content: \\\"*\\\";\\n  color: #ff4949;\\n  margin-right: 4px;\\n}\\n.error {\\n  color: #ff4949;\\n  font-size: 12px;\\n  padding-bottom: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-c2ec14fc!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UIComponents/AMap/AMap.vue\n// module id = 883\n// module chunks = 38","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-c2ec14fc!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AMap.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"8692024e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-c2ec14fc!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UIComponents/AMap/AMap.vue\n// module id = 913\n// module chunks = 38","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-c2ec14fc!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AMap.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AMap.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?id=data-v-c2ec14fc!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AMap.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UIComponents/AMap/AMap.vue\n// module id = 924\n// module chunks = 38","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"amap-page-container\"\n  }, [_c('label', {\n    staticClass: \"label required\"\n  }, [_vm._v(\"Address\")]), _vm._v(\" \"), (_vm.error) ? _c('div', {\n    staticClass: \"error\"\n  }, [_vm._v(\"\\n    Address is required\\n  \")]) : _vm._e(), _vm._v(\" \"), _c('el-amap-search-box', {\n    staticClass: \"search-box\",\n    attrs: {\n      \"search-option\": _vm.searchOption,\n      \"on-search-result\": _vm.onSearchResult\n    }\n  }), _vm._v(\" \"), _c('el-amap', {\n    staticClass: \"amap-demo\",\n    attrs: {\n      \"vid\": \"amapDemo\",\n      \"zoom\": _vm.zoom,\n      \"center\": _vm.center\n    }\n  }, _vm._l((_vm.markers), function(index, key) {\n    return _c('el-amap-marker', {\n      key: key,\n      attrs: {\n        \"position\": index.position,\n        \"events\": index.events,\n        \"visible\": index.visible,\n        \"draggable\": index.draggable,\n        \"plugin\": _vm.plugin\n      }\n    })\n  }), 1), _vm._v(\" \"), (_vm.address) ? _c('div', {\n    staticClass: \"amap-address\"\n  }, [_c('h2', [_c('i', {\n    staticClass: \"fa fa-location-arrow\"\n  }), _vm._v(\"\\n        Address: \" + _vm._s(_vm.address) + \"\\n    \")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"clear\": \"both\"\n    }\n  })]) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-c2ec14fc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/UIComponents/AMap/AMap.vue\n// module id = 974\n// module chunks = 38"],"sourceRoot":""}