webpackJsonp([4],{370:function(e,t,n){var a=n(84)(n(837),n(971),null,null);e.exports=a.exports},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{title:"Title",field:"title",isIcon:!1,icon:""},{title:"Event type",field:"eventFrequency",isIcon:!1},{title:"Location",field:"location_name",isIcon:!1,icon:""},{title:"Created At",field:"createdAt",isIcon:!1,icon:""},{title:"Start Date",field:"startDate",isIcon:!1,icon:""}],o=[{text:"title",value:"text",isIcon:!1,icon:""},{text:"Event type",value:"eventFrequency",isIcon:!1},{text:"Location",value:"location_name",isIcon:!1,icon:""},{text:"Created At",value:"createdAt",isIcon:!1,icon:""},{text:"Start Date",value:"startDate",isIcon:!1,icon:""}],i=[{tag:"link",class:"btn btn-info",label:"Edit",dynamic:!1,to:"/events/update",urlType:"_id",emit:""},{tag:"button",class:"btn btn-danger",label:"Remove",dynamic:!1,urlType:"_id",to:"",emit:"clickDelete"}],l=[{name:"anatomy",value:"anatomy"},{name:"speciality",value:"speciality"}],s=[{name:"title",label:"Event title",placeholder:"Event title",onChange:"handleSetEvent",value:"title",type:"fg-input"},{name:"location",label:"Location",placeholder:"Select location",onChange:"handleSetEvent",value:"location",type:"fg-input",showedKey:"title"},{name:"category",label:"Category",placeholder:"Select categories",onChange:"handleSetEvent",value:"category",type:"fg-input",showedKey:"title"}];t.tableColumns=a,t.tableActions=i,t.types=l,t.fields=s,t.vTableColumns=o},837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(85),l=n(777);t.default={data:function(){return{id:"",types:l.types,fields:l.fields,subedKey:"location"}},components:{ImageUplodaer:function(){return n.e(32).then(n.bind(null,772))},Timer:function(){return n.e(40).then(n.bind(null,930))},Container:function(){return n.e(34).then(n.bind(null,773))}},mounted:function(){this.id=this.$route.params.id,this.id&&this.fetchEvent({id:this.id})},destroyed:function(){this.clearState()},computed:(0,o.default)({},(0,i.mapState)({form:function(e){return e.events.event},categories:function(e){return e.events.events}}),(0,i.mapGetters)({foundedLocations:"searchResult",foundedCategories:"foundedCategories"}),{getOptions:function(){return"category"===this.subedKey?this.foundedCategories:this.foundedLocations}}),methods:(0,o.default)({submitForm:function(){var e=this.id?this.id:"";e?this.updateEvent({id:e}):this.createEvent(),this.$router.push("/events/list")}},(0,i.mapActions)({fetchEvent:"fetchEvent",createEvent:"createEvent",updateEvent:"updateEvent",findLocation:"findLocation",findCategory:"findCategory"}),(0,i.mapMutations)({resetForm:"resetEvent",setPoster:"setPoster",updateEventForm:"updateEventForm",setSearchResult:"setSearchResult",setFoundedCategories:"setFoundedCategories",clearState:"resetEvent"}),{handleChoose:function(e,t){this.updateEventForm({value:e.title,key:t}),this.updateEventForm({value:e,key:t+"_id"}),this.setSearchResult([]),this.setFoundedCategories([])},handleSetEventTime:function(e,t){var n={key:e,value:t};this.updateEventForm(n)},handleSetEvent:function(e,t){this.subedKey=t;var n={key:t,value:e};this.updateEventForm(n),"location"===t&&this.findLocation(e),"category"===t&&this.findCategory(e)}})}},971:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Container",[n("form",[n("fg-checkbox",{attrs:{label:"Hide this event",name:"isHidden",value:e.form.isHidden},on:{changeValue:e.handleSetEvent}}),e._v(" "),n("hr"),e._v(" "),n("ImageUplodaer",{attrs:{title:"Add image","uploading-text":"Uploading...",poster:e.form.poster},on:{uploadPoster:e.setPoster}}),e._v(" "),n("hr"),e._v(" "),n("ImageUplodaer",{attrs:{title:"Add coupon image","uploading-text":"Uploading...",poster:e.form.coupon_image,parentInputId:"coupon"},on:{uploadPoster:function(t){return e.updateEventForm({value:t,key:"coupon_image"})}}}),e._v(" "),n("hr"),e._v(" "),e._l(e.fields,function(t,a){var o=t.label,i=t.value,l=(t.subValue,t.name),s=t.placeholder,r=t.showedKey;return n("fg-input",{key:a,attrs:{type:"text",label:o,placeholder:s,name:l,value:e.form[i]},on:{changeValue:e.handleSetEvent}},["location"===i?n("span",[e._v(e._s(e.form.location.title))]):e._e(),e._v(" "),e.subedKey===l?n("cascader",{attrs:{name:l,showedKey:r,options:e.getOptions},on:{handleChoose:e.handleChoose}}):e._e()],1)}),e._v(" "),n("fg-textarea",{attrs:{label:"Event description",name:"description",value:e.form.description,placeholder:"Enter description of event"},on:{changeValue:e.handleSetEvent}}),e._v(" "),n("Timer",{attrs:{data:e.form.timeData},on:{setData:e.handleSetEventTime}}),e._v(" "),n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-info btn-fill btn-wd",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n        "+e._s(e.id?"Update":"Create")+"\n      ")]),e._v(" "),n("router-link",{staticClass:"btn btn-danger btn-fill btn-wd",attrs:{to:"/events/list"}},[e._v("\n        Back\n      ")])],1)],2)])},staticRenderFns:[]}}});
//# sourceMappingURL=4.1fe4a33af2aff0615ba4.js.map